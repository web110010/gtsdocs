<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Provisioning TLS certificates # As explained in the deployment considerations, federation requires the use of TLS as most instances refuse to federate over unencrypted transports.
GoToSocial comes with built-in support for provisioning and renewing its own TLS certificates through Lets Encrypt. This guide looks at how you can provision your own certificates independently from GoToSocial. This can be useful if you want full control over how the certificates are provisioned, or because you&rsquo;re using a reverse proxy which is doing TLS termination.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Provisioning TLS certificates" />
<meta property="og:description" content="Provisioning TLS certificates # As explained in the deployment considerations, federation requires the use of TLS as most instances refuse to federate over unencrypted transports.
GoToSocial comes with built-in support for provisioning and renewing its own TLS certificates through Lets Encrypt. This guide looks at how you can provision your own certificates independently from GoToSocial. This can be useful if you want full control over how the certificates are provisioned, or because you&rsquo;re using a reverse proxy which is doing TLS termination." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/docs/advanced/certificates/" /><meta property="article:section" content="docs" />



<title>Provisioning TLS certificates |  GoToSocial Documentation </title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css" integrity="sha256-&#43;N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.611c5c1febb7934f5bf0513e18b80edbb8ef94a70c6bcfdb5d454501232b51e4.js" integrity="sha256-YRxcH&#43;u3k09b8FE&#43;GLgO27jvlKcMa8/bXUVFASMrUeQ=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
  <link href="/css/swagger-css/swagger-ui.css" rel="stylesheet" type="text/css">
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/favicon.ico" alt="Logo" /><span> GoToSocial Documentation </span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/faq/" class="">FAQ</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0b8a4f04ff43ad74e1f0264bbdf6f4e1" class="toggle"  />
    <label for="section-0b8a4f04ff43ad74e1f0264bbdf6f4e1" class="flex justify-between">
      <a role="button" class="">User Guide</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/user_guide/posts/" class="">Posts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/user_guide/settings/" class="">Settings</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/user_guide/custom_css/" class="">Custom CSS (Advanced)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/user_guide/password_management/" class="">Password Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/user_guide/rss/" class="">RSS</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d0d8c0b66b8e3c4a41d9a7a903279018" class="toggle"  />
    <label for="section-d0d8c0b66b8e3c4a41d9a7a903279018" class="flex justify-between">
      <a role="button" class="">Getting Started</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/deployment_considerations/" class="">Deployment Considerations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/releases/" class="">Releases</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4dd3c8f7579de11397af9a616dd97623" class="toggle"  />
    <label for="section-4dd3c8f7579de11397af9a616dd97623" class="flex justify-between">
      <a href="/docs/getting_started/installation/" class="">Installation</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/installation/metal/" class="">Bare metal</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/installation/container/" class="">Container</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-227ed35e8d3d1d9ae6ada088eaa5826a" class="toggle"  />
    <label for="section-227ed35e8d3d1d9ae6ada088eaa5826a" class="flex justify-between">
      <a href="/docs/getting_started/reverse_proxy/" class="">Reverse Proxy</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/reverse_proxy/nginx/" class="">Nginx</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/reverse_proxy/apache-httpd/" class="">Apache Httpd</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/reverse_proxy/caddy/" class="">Caddy 2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/reverse_proxy/websocket/" class="">Websocket</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting_started/user_creation/" class="">User Creation</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-733eb6bf92c2240d3439f44b52d0e508" class="toggle"  />
    <label for="section-733eb6bf92c2240d3439f44b52d0e508" class="flex justify-between">
      <a href="/docs/configuration/" class="">Configuration</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/general/" class="">General</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/database/" class="">Database</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/web/" class="">Web</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/instance/" class="">Instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/accounts/" class="">Accounts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/media/" class="">Media</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/storage/" class="">Storage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/statuses/" class="">Statuses</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/tls/" class="">TLS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/oidc/" class="">OpenID Connect (OIDC)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/smtp/" class="">Email Config (smtp)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/syslog/" class="">Syslog</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/advanced/" class="">Advanced</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/configuration/observability/" class="">Observability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-947fb6d312b5241daf9523c924869228" class="toggle" checked />
    <label for="section-947fb6d312b5241daf9523c924869228" class="flex justify-between">
      <a href="/docs/advanced/" class="">Advanced</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/host-account-domain/" class="">Split-domain deployments</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/outgoing-proxy/" class="">Outgoing HTTP proxy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76875d46ccfca56452024158a33d8109" class="toggle"  />
    <label for="section-76875d46ccfca56452024158a33d8109" class="flex justify-between">
      <a href="/docs/advanced/caching/" class="">Caching</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/caching/api/" class="">API</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/caching/assets-media/" class="">Assets Media</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/certificates/" class="active">Provisioning TLS certificates</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-010cc1241fb55df50712cba4c805f74e" class="toggle"  />
    <label for="section-010cc1241fb55df50712cba4c805f74e" class="flex justify-between">
      <a href="/docs/advanced/security/" class="">Security</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/security/sandboxing/" class="">Application sandboxing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/security/firewall/" class="">Firewall</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced/tracing/" class="">Tracing</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d3501c3f4c7ea3fb09a3bb156b24beda" class="toggle"  />
    <label for="section-d3501c3f4c7ea3fb09a3bb156b24beda" class="flex justify-between">
      <a role="button" class="">Admin</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/admin/settings/" class="">Admin Settings</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/admin/cli/" class="">GtS CLI Tool</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/admin/backup_and_restore/" class="">Backup and Restore</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-901779afe5996ea4448e3bb3d55a2b9f" class="toggle"  />
    <label for="section-901779afe5996ea4448e3bb3d55a2b9f" class="flex justify-between">
      <a href="/docs/federation/" class="">Federation</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/federation/glossary/" class="">Glossary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/federation/federating_with_gotosocial/" class="">Federating With Gotosocial</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bf7b3283e3790c00c8caaa140299052b" class="toggle"  />
    <label for="section-bf7b3283e3790c00c8caaa140299052b" class="flex justify-between">
      <a role="button" class="">API</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/api/swagger/" class="">Swagger</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/api/ratelimiting/" class="">Request Rate Limiting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/api/throttling/" class="">Request Throttling</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Provisioning TLS certificates</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#general-approach">General approach</a></li>
    <li><a href="#clients">Clients</a>
      <ul>
        <li><a href="#dns-challenge">DNS challenge</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a>
      <ul>
        <li><a href="#without-reverse-proxy">Without reverse proxy</a></li>
        <li><a href="#with-reverse-proxy">With reverse proxy</a></li>
      </ul>
    </li>
    <li><a href="#guides">Guides</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="provisioning-tls-certificates">
  Provisioning TLS certificates
  <a class="anchor" href="#provisioning-tls-certificates">#</a>
</h1>
<p>As explained in the <a href="../../getting_started/deployment_considerations">deployment considerations</a>, federation requires the use of TLS as most instances refuse to federate over unencrypted transports.</p>
<p>GoToSocial comes with built-in support for provisioning and renewing its own TLS certificates through Lets Encrypt. This guide looks at how you can provision your own certificates independently from GoToSocial. This can be useful if you want full control over how the certificates are provisioned, or because you&rsquo;re using a <a href="../../getting_started/reverse_proxy">reverse proxy</a> which is doing TLS termination.</p>
<p>There are a few different ways you can get TLS certificates:</p>
<ul>
<li>Buy them from a vendor, typically valid for 2 years</li>
<li>Get them from your cloud provider, validity depends on their product constraints</li>
<li>Get them from an <a href="https://en.wikipedia.org/wiki/Automatic_Certificate_Management_Environment">ACME</a>-compatible provider like Lets Encrypt, typically valid for 3 months at a time</li>
</ul>
<p>In this guide we&rsquo;ll only look at option 3, an ACME-compatible vendor.</p>
<h2 id="general-approach">
  General approach
  <a class="anchor" href="#general-approach">#</a>
</h2>
<p>The way you&rsquo;ll provision certificates through Lets Encrypt is:</p>
<ul>
<li>Install an ACME client on your server</li>
<li>Configure the ACME client to provision your certificates</li>
<li>Configure a piece of software to use those certificates</li>
<li>Enable a timer/cron to regularly renew the certificates</li>
<li>Signal to the necessary applications they need to reload or restart to pick up the new certificates</li>
</ul>
<p>Certificates are provisioned <a href="https://letsencrypt.org/sv/docs/challenge-types/">using a challenge</a>, a way to verify that you&rsquo;re requesting a certificate for a domain you control. You&rsquo;ll typically use one of:</p>
<ul>
<li>HTTP challenge</li>
<li>DNS challenge</li>
</ul>
<p>The HTTP challenge requires serving certain files on port 80 on the domains you&rsquo;re requesting a certificate for under the <code>/.well-known/acme/</code> path. This is the default challenge type.</p>
<p>The DNS challenge happens entirely out of band but requires you to update a DNS TXT record. This approach is only feasible if your DNS registrar provides an API through which you can modify DNS records so that your ACME client can complete this challenge.</p>
<h2 id="clients">
  Clients
  <a class="anchor" href="#clients">#</a>
</h2>
<p>The official Lets Encrypt client is <a href="https://certbot.eff.org/">certbot</a> and it&rsquo;s usually packaged in <a href="https://repology.org/project/certbot/versions">your (Linux) distribution</a> of choice. Certain reverse proxies like Caddy and Traefik have built-in support for provisioning certificates using the ACME protocol.</p>
<p>A couple of other clients of note that you can consider using:</p>
<ul>
<li><a href="https://man.openbsd.org/acme-client.1">acme-client</a> for OpenBSD using the privilege separation features of the platform</li>
<li><a href="https://git.guilhem.org/lacme/about/">lacme</a>, which is built with process isolation and minimal privileges in mind in the same vein as acme-client but for Linux</li>
<li><a href="https://github.com/go-acme/lego">Lego</a>, an ACME client and library written in Go</li>
<li><a href="https://httpd.apache.org/docs/2.4/mod/mod_md.html">mod_md</a>, when using Apache 2.4.30+</li>
</ul>
<h3 id="dns-challenge">
  DNS challenge
  <a class="anchor" href="#dns-challenge">#</a>
</h3>
<p>For the DNS challenge, the API of your registrar needs to be supported by your ACME client. Though certbot has a few plugins for popular providers, you probably want to look at the <a href="https://github.com/alexzorin/certbot-dns-multi">dns-multi</a> plugin instead. It leverages <a href="https://github.com/go-acme/lego">Lego</a> under the hood which supports a much wider array of providers.</p>
<h2 id="configuration">
  Configuration
  <a class="anchor" href="#configuration">#</a>
</h2>
<p>There are 3 configuration options that are important:</p>
<ul>
<li><a href="../../configuration/tls"><code>letsencrypt-enabled</code></a> controls if GoToSocial will try to provision its own certificates</li>
<li><a href="../../configuration/tls"><code>tls-certificate-chain</code></a> filesystem path where GoToSocial can find the TLS certificate chain + the public key</li>
<li><a href="../../configuration/tls"><code>tls-certificate-key</code></a> filesystem path where GoToSocial can find the associated TLS private key</li>
</ul>
<h3 id="without-reverse-proxy">
  Without reverse proxy
  <a class="anchor" href="#without-reverse-proxy">#</a>
</h3>
<p>When running GoToSocial directly exposed to the internet, but you still want to use your own certificates you can set the following options:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">letsencrypt-enabled</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">tls-certificate-chain</span>: <span style="color:#e6db74">&#34;/path/to/combined-certificate-chain-public.key&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">tls-certificate-key</span>: <span style="color:#e6db74">&#34;/path/to/private.key&#34;</span>
</span></span></code></pre></div><p>This disables the built-in provisioning of certificates through Lets Encrypt and tells GoToSocial where to find the certificates on disk.</p>
<blockquote class="book-hint info">
  <p><strong>Tip</strong></p>
<p>Restart GoToSocial after renewing your certificates. It won&rsquo;t pick up on certificate rotation by itself when they are provided like this.</p>

</blockquote>

<h3 id="with-reverse-proxy">
  With reverse proxy
  <a class="anchor" href="#with-reverse-proxy">#</a>
</h3>
<p>When running GoToSocial behind a <a href="../../getting_started/reverse_proxy/">reverse proxy</a> which you also use for TLS termination, you&rsquo;ll need the following instead:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">letsencrypt-enabled</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">tls-certificate-chain</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">tls-certificate-key</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span></code></pre></div><p>It&rsquo;s important to ensure the <code>tls-certificate-*</code> options are unset or set to the empty string. Otherwise GoToSocial will attempt to handle TLS itself.</p>
<blockquote class="book-hint danger">
  <p><strong>Protocol configuration option</strong></p>
<p>Do <strong>not</strong> change the <a href="../../configuration/general"><code>protocol</code></a> configuration option to <code>http</code>. This should only ever by set to <code>http</code> for development purposes. It needs to be set to <code>https</code> even when running behind a TLS-terminating reverse proxy.</p>

</blockquote>

<p>You&rsquo;ll also want to change the <a href="../../configuration/general"><code>port</code></a> GoToSocial binds on, so it no longer tries to use port 443.</p>
<p>To configure TLS in your reverse proxy, please refer to their documentation:</p>
<ul>
<li><a href="https://docs.nginx.com/nginx/admin-guide/security-controls/terminating-ssl-http/">nginx</a></li>
<li><a href="https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html">apache</a></li>
<li><a href="https://doc.traefik.io/traefik/https/tls/">Traefik</a></li>
<li><a href="https://caddyserver.com/docs/caddyfile/directives/tls">Caddy</a></li>
</ul>
<blockquote class="book-hint info">
  <p><strong>Tip</strong></p>
<p>When configuring TLS in your reverse proxy, ensure you configure a reasonably modern set of compatible versions and ciphers. You can use the &ldquo;Intermediate&rdquo; configuration from the <a href="https://ssl-config.mozilla.org/">Mozilla SSL Configuration Generator</a>.</p>
<p>Check the documentation of your reverse proxy on whether you have to reload or restart it after certificates have changed. Not all reverse proxies detect this.</p>

</blockquote>

<h2 id="guides">
  Guides
  <a class="anchor" href="#guides">#</a>
</h2>
<p>There are a number of good resources on the internet explaining how to set all of this up.</p>
<ul>
<li><a href="https://wiki.archlinux.org/title/certbot">ArchWiki entry</a> on certbot</li>
<li><a href="https://wiki.gentoo.org/wiki/Let%27s_Encrypt">Gentoo wiki entry</a> on Lets Encrypt</li>
<li><a href="https://www.linode.com/docs/guides/enabling-https-using-certbot-with-nginx-on-fedora/">Linode guide</a> on certbot for Fedora, RHEL/CentOS, Debian and Ubuntu</li>
<li>Digital Ocean guides on Lets Encrypt on Ubuntu 22.04 with <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-22-04">nginx</a> or <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-22-04">apache</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#general-approach">General approach</a></li>
    <li><a href="#clients">Clients</a>
      <ul>
        <li><a href="#dns-challenge">DNS challenge</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a>
      <ul>
        <li><a href="#without-reverse-proxy">Without reverse proxy</a></li>
        <li><a href="#with-reverse-proxy">With reverse proxy</a></li>
      </ul>
    </li>
    <li><a href="#guides">Guides</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












